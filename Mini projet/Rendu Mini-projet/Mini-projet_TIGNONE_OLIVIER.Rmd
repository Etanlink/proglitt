---
title: "Rapport sur le dÈveloppement humain"
author: "Amandine TIGNONE et Etienne OLIVIER"
date: "31 mars 2017"
output:
  pdf_document:
    fig_caption: yes
    fig_height: 10
    fig_width: 12
    toc: yes
  html_document:
    toc: yes
subtitle: Mini projet
---

```{r setup, message=FALSE, warning=FALSE, include=FALSE}
knitr::opts_chunk$set(
	message = FALSE,
	warning = FALSE,
	comment = NA
)
```

```{r, message=FALSE, warning=FALSE, include=FALSE}
library(readr)
hd <- read_csv("~/GitHub/proglitt/Mini projet/Donn√©es/human_development.csv")

library(dplyr)
library(magrittr)
library(ggplot2)
library(ggrepel)
library(ggplot2)

```


```{r, message=FALSE, warning=FALSE, include=FALSE}

# Fonction pour r√©aliser l'affichage du graphe r√©capitulatif

# Multiple plot function
#
# ggplot objects can be passed in ..., or to plotlist (as a list of ggplot objects)
# - cols:   Number of columns in layout
# - layout: A matrix specifying the layout. If present, 'cols' is ignored.
#
# If the layout is something like matrix(c(1,2,3,3), nrow=2, byrow=TRUE),
# then plot 1 will go in the upper left, 2 will go in the upper right, and
# 3 will go all the way across the bottom.
#
multiplot <- function(..., plotlist=NULL, file, cols=1, layout=NULL) {
  library(grid)

  # Make a list from the ... arguments and plotlist
  plots <- c(list(...), plotlist)

  numPlots = length(plots)

  # If layout is NULL, then use 'cols' to determine layout
  if (is.null(layout)) {
    # Make the panel
    # ncol: Number of columns of plots
    # nrow: Number of rows needed, calculated from # of cols
    layout <- matrix(seq(1, cols * ceiling(numPlots/cols)),
                    ncol = cols, nrow = ceiling(numPlots/cols))
  }

 if (numPlots==1) {
    print(plots[[1]])

  } else {
    # Set up the page
    grid.newpage()
    pushViewport(viewport(layout = grid.layout(nrow(layout), ncol(layout))))

    # Make each plot, in the correct location
    for (i in 1:numPlots) {
      # Get the i,j matrix positions of the regions that contain this subplot
      matchidx <- as.data.frame(which(layout == i, arr.ind = TRUE))

      print(plots[[i]], vp = viewport(layout.pos.row = matchidx$row,
                                      layout.pos.col = matchidx$col))
    }
  }
}
```


## Introduction

### Contexte
Dans le cadre du mini-projet du cours de Mod√®les Statistiques, nous avons choisi de traiter les donn√©es relatives au d√©veloppement humain en 2015. Nous avons trouv√© ces donn√©es sur KAGGLE, √† l'adresse suivante: www.kaggle.com/undp/human-development?

*NB : une inscription sur Kaggle est n√©cessaire pour obtenir les donn√©es.*

### Description de la probl√©matique
Les donn√©es √©tablissent un classement de 194 pays selon l'indice de d√©veloppement humain (HDI), calcul√© √† partir de trois autres indices :

 -  l'esp√©rance de vie,
 -  l'√©ducation,
 -  le revenu national brut (par habitant).

Ceci nous am√®ne donc √† notre probl√©matique :
"La corr√©lation entre le d√©veloppement humain et l'argent est-elle plus ou moins importante que la corr√©lation entre le d√©veloppement humain et l'√©ducation ?"

Ou, autrement dit, comment influent ces indices sur le HDI ?


### Data clean-up procedures

##### Description des nos donn√©es

Nous avions √† notre disposition 6 jeux de donn√©es permettant de se poser un grand nombre de questions, nous avons donc choisi un fichier en particulier pour pouvoir pousser l‚Äôanalyse plus loin et r√©pondre √† notre probl√©matique.
Nous avons utilis√© les donn√©es incluses dans le fichier `human_development.csv` qui est compos√© de 8 types d‚Äôinformations :


N¬∞            Donn√©es                                     Signification
--------      --------------                              ----------------
1             HDI Rank                                    Classement en fonction du HDI
2             Country                                     Les pays
3             Human Development Index (HDI)               Indice de d√©veloppement (coefficient)
4             Life expectancy at birth                    Esp√©rance de vie (en ann√©es)
5             Expected years of education                 Nombre d'ann√©es d'√©tudes attendues (apr√®s 6 ans)
6             Mean years of education                     Nombre d'ann√©es moyennes d'√©ducation
7             Gross National Income (GNI) per capita      Revenu National Brut (RNB) par agent √©conomique (*)
8             GNI per Capita Rank Minus HDI Rank          RNB par habitant moins le classement du HDI
---------     --------------                              ----------------

(*) agent √©conomique = personne physique ou morale prenant des d√©cisions d'ordre √©conomique (il peut √™tre un individu, un m√©nage, une entreprise, un pays, une collectivit√© territoriale ou encore une instance internationale).

L'**indice de d√©veloppement humain (HDI)** est la moyenne g√©om√©trique calcul√©e √† partir de l'esp√©rance de vie, l'indice d'√©ducation : (Nombre d‚Äôann√©es moyen d‚Äô√©ducation +  nombre d‚Äôann√©es d‚Äô√©tudes attendues) / 2, et le Revenu National Brut.

  
### Scientific workflow
Nous avons commenc√©, apr√®s avoir s√©lectionn√© nos donn√©es, par les observer et nous poser diff√©rentes questions. Il fallait en effet faire ressortir d'un ensemble de nombres et d'indices ce qui nous int√©ressait vraiment en plus d'une probl√©matique particuli√®re. 

Nous avons donc essay√© plusieurs types de graphes en nuage de points afin de trouver les bonnes corr√©lations et la meilleure mani√®re de pr√©senter les donn√©es.

Nous avons choisi d'exposer nos graphes en grille pour une lecture rapide des informations et pour mettre en √©vidence plus ais√©ment ces corr√©lations :

 - Les abscisses de la 1√®re ligne et les ordonn√©es de la 1√®re colonne correspondent √† l'esp√©rance de vie,
 - Les abscisses de la 2√®me ligne et les ordonn√©es de la 2√®me colonne correspondent au temps moyen d'√©ducation,
 - Les abscisses de la 3√®me ligne et les ordonn√©es de la 3√®me colonne correspondent au RNB.
 - La diagonale comprend l'indice de d√©veloppement humain en ordonn√©e.



### Data representation choices
Pour illustrer au mieux notre analyse, nous avons fait le choix d'utiliser des nuages de points pour repr√©senter chaque pays en fonction de deux indicateurs.
Ce choix √©tait √©vident car nous n'aurions pas pu r√©pondre √† notre question avec un autre type de graphe.


## Analyse

```{r, message=FALSE, warning=FALSE, include=FALSE}
# S√©lection des donn√©es
hdi <- hd %>% select(`Human Development Index (HDI)`)
mye <- hd %>% select(`Mean Years of Education`)
gni <- hd %>% select(`Gross National Income (GNI) per Capita`)
country <- hd %>% select(Country)
leb <- hd %>% select(`Life Expectancy at Birth`)

# Pr√©paration des diff√©rents plots
g_leb_mye <- ggplot(data=hd) +
  geom_point(aes(x=leb,y=mye)) +
  ggtitle("L'esp√©rance de vie en fonction du TME") +
  xlab("L'esp√©rance de vie √† la naissance (en ann√©es)") +
  ylab("Dur√©e moyenne d'√©ducation (en ann√©es)") +
  theme(plot.title = element_text(family = "Trebuchet MS", color="#666666", face="bold", size=32, hjust=0)) +
  theme_bw();
  
g_leb_gni <- ggplot(data=hd) +
  geom_point(aes(x=leb,y=gni)) +
  ggtitle("Esp√©rance de vie en fonction du RNB") +
  xlab("L'esp√©rance de vie √† la naissance (en ann√©es)") +
  ylab("Revenu national brut (en $)") +
  theme_bw();

g_mye_leb <- ggplot(data=hd) +
  geom_point(aes(x=mye,y=leb)) +
  ggtitle("TME en fonction de l'esp√©rance de vie") +
  xlab("Dur√©e moyenne d'√©ducation (en ann√©es)") +
  ylab("L'esp√©rance de vie √† la naissance (en ann√©es)") +
  theme_bw();
  
g_mye_gni <- ggplot(data=hd) +
  geom_point(aes(x=mye,y=gni)) +
  ggtitle("TME en fonction du RNB") +
  xlab("Dur√©e moyenne d'√©ducation (en ann√©es)") +
  ylab("Revenu national brut (en $)") +
  theme_bw();
  
g_gni_leb <- ggplot(data=hd) +
  geom_point(aes(x=gni,y=leb)) +
  ggtitle("RNB en fonction de l'esp√©rance de vie") +
  xlab("Revenu national brut (en $)") +
  ylab("L'esp√©rance de vie √† la naissance (en ann√©es)") +
  theme_bw();
  
g_gni_mye <- ggplot(data=hd) +
  geom_point(aes(x=gni,y=mye)) +
  ggtitle("RNB en fonction du TME") +
  xlab("Revenu national brut (en $)") +
  ylab("Dur√©e moyenne d'√©ducation (en ann√©es)") +
  theme_bw();


# Plot de chaque indicateur en fonction du HDI
g_leb_hdi <- ggplot(data=hd) +
  geom_point(aes(x=leb,y=hdi)) +
  ggtitle("Esp√©rance de vie en fonction de l'HDI") +
  xlab("L'esp√©rance de vie √† la naissance (en ann√©es)") +
  ylab("Indice de d√©veloppement humain") +
  theme_bw();

g_mye_hdi <- ggplot(data=hd) +
  geom_point(aes(x=leb,y=hdi)) +
  ggtitle("TME en fonction de l'HDI") +
  xlab("Dur√©e moyenne d'√©ducation (en ann√©es)") +
  ylab("Indice de d√©veloppement humain") +
  theme_bw();

g_gni_hdi <- ggplot(data=hd) +
  geom_point(aes(x=leb,y=hdi)) +
  ggtitle("RNB en fonction de l'HDI") +
  xlab("Revenu national brut (en $)") +
  ylab("Indice de d√©veloppement humain") +
  theme_bw();

```

Pour le graphe ci-dessous, nous utiliserons les abr√©viations suivantes :

TME : Temps moyen d'√©ducation

RNB : Revenu National Brut

HDI : Indice de d√©veloppement humain

```{r, echo=FALSE, message=FALSE, warning=FALSE}
# Affichage en grille des 9 plots

multiplot(g_leb_hdi,
          g_mye_leb,
          g_gni_leb,
          g_leb_mye,
          g_mye_hdi,
          g_gni_mye,
          g_leb_gni,
          g_mye_gni,
          g_gni_hdi, 
          cols=3)
```


Une des premi√®res observations que l'on peut faire est que l'on retrouve le lien entre le HDI et ses indicateurs de part la possibilit√© d'op√©rer une r√©gression lin√©aire sur les nuages de points de la diagonale (Sup√©rieur gauche √† inf√®rieur droite) de la grille.

Notre but √©tant de d√©terminer ce qui influe le plus entre l'argent et l'√©ducation sur le HDI, nous nous apercevons tout de suite en observant les deux premiers graphes de la troisi√®me ligne que la part de l'√©ducation dans le d√©veloppement humain est beaucoup moins importante que celle du revenu.

On retrouve donc bien ici l'id√©e de la pyramide de Maslow o√π un individu doit d'abord assouvir ses besoins primaires (besoins physiologiques) avant de pouvoir se d√©velopper.
Ceci explique donc le fait qu'une variation du revenu influe autant sur l'esp√©rance de vie et sur le temps moyen d'√©ducation. Le revenu permet aux individus de se d√©velopper au sein des soci√©t√©s que ce soit d'un point de vue de la sant√© (Indice d'esp√©rance de vie) ou de l'√©ducation.

"Le d√©veloppement humain passerait-il donc par l'argent ?"


## Conclusion

Pour conclure, on peut se demander quelles sont les limites de ce type d'indice ? Ne serait-ce pas aussi important de prendre en compte la d√©mographie des pays √©tudi√©s ? En effet, ce facteur compte car un pays ayant un plus grand nombre d'habitants aura besoin d'un plus grand nombre d'enseignants pour un m√™me ratio nombre d'√©tudiants/nombre d'enseignants.

Par exemple, on a les donn√©es d√©mographiques suivantes pour l'ann√©e 2013 :

*NB : il s'agit d'informations arrondies pour avoir un ordre d'id√©e (recherche google = "d√©mographie NOM_PAYS 2013").*

 - Norv√®ge : 5 millions d'habitants,
 - Australie : 23 millions d'habitants,
 - Russie : 144 millions d'habitants,
 - Inde : 1,3 milliards d'habitants.


Et ces pays sont respectivement 1er, 2√®me, 50√®me et 130√®me dans le classement des pays par l'indice de d√©veloppement humain.

Cela semble logique : il para√Æt plus facile de mettre en place une politique d'√©ducation dans un pays avec une d√©mographie plus faible, tout comme un Revenu National Brut √©lev√© permet un certain investissement dans la prise en charge d'un grand nombre de facteurs influant sur le niveau de vie et le d√©veloppement g√©n√©ral d'un pays.



## References
  - www.kaggle.com/undp/human-development?
  - Voir aussi l'explicatif fourni avec les donn√©es : index_calculation.pdf